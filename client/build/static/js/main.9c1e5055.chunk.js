(this.webpackJsonpmastermind=this.webpackJsonpmastermind||[]).push([[0],{10:function(e,a,t){},11:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(4),r=t.n(l),o=t(2),i=Object(n.createContext)(),m=t(1),s=function(e,a){switch(a.type){case"SET_COLOR":return Object(m.a)(Object(m.a)({},e),{},{color:a.payload});case"SET_VICTORY":return Object(m.a)(Object(m.a)({},e),{},{score:a.payload,gameWon:!0});case"SET_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{gameLost:!0});case"SET_NEXT_RAW":return Object(m.a)(Object(m.a)({},e),{},{activeRaw:a.payload});case"SET_NEW_GAME_KEY":return Object(m.a)(Object(m.a)({},e),{},{gameKey:a.payload,activeRaw:1,gameWon:!1,gameLost:!1});case"SET_NEW_COMBINATION":return Object(m.a)(Object(m.a)({},e),{},{combination:a.payload});default:return e}},u=["red","blue","green","pink","yellow","purple"],b=function(e){var a=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return a?a.pop():0},d=function(e){var a={color:null,score:Number(b("mastermindScore")),activeRaw:1,gameKey:0,gameWon:!1,gameLost:!1,combination:[]},t=Object(n.useReducer)(s,a),l=Object(o.a)(t,2),r=l[0],m=l[1];return c.a.createElement(i.Provider,{value:{color:r.color,score:r.score,activeRaw:r.activeRaw,gameKey:r.gameKey,gameWon:r.gameWon,gameLost:r.gameLost,combination:r.combination,setColor:function(e){m({type:"SET_COLOR",payload:e})},setVictory:function(){document.cookie="mastermindScore=".concat(r.score+1),m({type:"SET_VICTORY",payload:r.score+1})},setNextRaw:function(){m({type:"SET_NEXT_RAW",payload:r.activeRaw+1})},setNewGameKey:function(){m({type:"SET_NEW_GAME_KEY",payload:r.gameKey+1})},setNewCombination:function(){m({type:"SET_NEW_COMBINATION",payload:[u[Math.floor(Math.random()*u.length)],u[Math.floor(Math.random()*u.length)],u[Math.floor(Math.random()*u.length)],u[Math.floor(Math.random()*u.length)]]})},setFailure:function(){m({type:"SET_FAILURE"})}}},e.children)},E=function(e){switch(e){case"red":return"#cf000f";case"blue":return"#22a7f0";case"pink":return"#d2527f";case"yellow":return"#eeee00";case"purple":return"#663399";case"green":return"#019875";case"white":return"#e8ecf1";case"black":return"#2e3131";case"validRed":return"#96281b";default:return"#bdc3c7"}},p=function(e){var a=Object(n.useContext)(i),t=a.color,l=a.setVictory,r=a.setFailure,s=a.activeRaw,u=a.setNextRaw,b=a.gameWon,d=a.gameLost,p=Object(n.useState)({value1:"grey",value2:"grey",value3:"grey",value4:"grey"}),g=Object(o.a)(p,2),v=g[0],y=g[1],f=Object(n.useState)(["black","black","black","black"]),N=Object(o.a)(f,2),O=N[0],h=N[1],j=e.id===s,k=function(e){t&&y((function(a){return"value1"===e.target.name?Object(m.a)(Object(m.a)({},a),{},{value1:t}):"value2"===e.target.name?Object(m.a)(Object(m.a)({},a),{},{value2:t}):"value3"===e.target.name?Object(m.a)(Object(m.a)({},a),{},{value3:t}):"value4"===e.target.name?Object(m.a)(Object(m.a)({},a),{},{value4:t}):void 0}))};return c.a.createElement("tr",{className:"bubble-raw"},c.a.createElement("td",{className:"combination-area"},c.a.createElement("button",{tabIndex:-1,name:"value1",style:{background:"radial-gradient(circle at 17px 17px, ".concat(E(v.value1),", #000)")},className:"circle",onClick:j&&!b?k:null}),c.a.createElement("button",{tabIndex:-1,name:"value2",style:{background:"radial-gradient(circle at 17px 17px, ".concat(E(v.value2),", #000)")},className:"circle",onClick:j&&!b?k:null}),c.a.createElement("button",{tabIndex:-1,name:"value3",style:{background:"radial-gradient(circle at 17px 17px, ".concat(E(v.value3),", #000)")},className:"circle",onClick:j&&!b?k:null}),c.a.createElement("button",{tabIndex:-1,name:"value4",style:{background:"radial-gradient(circle at 17px 17px, ".concat(E(v.value4),", #000)")},className:"circle",onClick:j&&!b?k:null})),c.a.createElement("td",{className:"validate-area"},j&&!b&&!d&&c.a.createElement("button",{className:"validate-button",onClick:function(){var a=[v.value1,v.value2,v.value3,v.value4],t=[],n=[],c=[],o=0;if(!a.includes("grey")){a.forEach((function(a,l){a===e.combination[l]?(t.push("red"),o+=1):e.combination.includes(a)?n.push("white"):c.push("black")}));var i=[].concat(t,n,c);h(i),4===o?l():10!==e.id?u():r()}}},"Validate")),c.a.createElement("td",{className:"result-area"},O.map((function(e,a){return c.a.createElement("button",{key:a,className:"result-circle",style:{background:"radial-gradient(circle at 5px 5px, ".concat(E(e),", #000)")}})}))))},g=function(e){return c.a.createElement("table",{className:"game-space"},c.a.createElement("tbody",null,c.a.createElement(p,{id:10,combination:e.combination}),c.a.createElement(p,{id:9,combination:e.combination}),c.a.createElement(p,{id:8,combination:e.combination}),c.a.createElement(p,{id:7,combination:e.combination}),c.a.createElement(p,{id:6,combination:e.combination}),c.a.createElement(p,{id:5,combination:e.combination}),c.a.createElement(p,{id:4,combination:e.combination}),c.a.createElement(p,{id:3,combination:e.combination}),c.a.createElement(p,{id:2,combination:e.combination}),c.a.createElement(p,{id:1,combination:e.combination})))},v=function(){var e=Object(n.useContext)(i).score;return c.a.createElement("div",{className:"score-area"},c.a.createElement("h1",{className:"score-panel"},"Score: ",e))},y=function(e){var a=Object(n.useContext)(i).setColor,t=e.colors,l=function(e){a(e.target.id)};return c.a.createElement("div",{className:"control-panel"},c.a.createElement("div",{className:"center"},t.map((function(e,a){return c.a.createElement("button",{key:a,id:e,onClick:l,className:"control-circle",style:{background:"radial-gradient(circle at 23px 23px, ".concat(E(e),", #000)")}})}))))},f=function(){var e=Object(n.useContext)(i),a=e.setNewGameKey,t=e.setNewCombination;return c.a.createElement("div",{className:"replay-area"},c.a.createElement("button",{className:"replay-button",onClick:function(){a(),t()}},"Play Again"))},N=function(e){var a=Object(n.useContext)(i),t=a.gameWon;return a.gameLost||t?c.a.createElement("div",{className:"solution-area"},c.a.createElement("div",{className:"center"},e.combination.map((function(e,a){return c.a.createElement("button",{key:a,tabIndex:-1,style:{background:"radial-gradient(circle at 17px 17px, ".concat(E(e),", #000)")},className:"circle"})})))):null},O=function(e){var a=Object(n.useState)("none"),t=Object(o.a)(a,2),l=t[0],r=t[1];return Object(n.useEffect)((function(){(!0===e.gameWon||e.gameLost)&&(r("block"),setInterval((function(){r("none")}),2800))}),[e.gameWon,e.gameLost]),c.a.createElement("div",{className:"animate win-panel",style:{display:l}},e.gameWon&&c.a.createElement("div",{className:"winner-container"},c.a.createElement("span",null,"Y"),c.a.createElement("span",null,"O"),c.a.createElement("span",null,"U"),"\xa0",c.a.createElement("span",null,"W"),c.a.createElement("span",null,"I"),c.a.createElement("span",null,"N"),c.a.createElement("span",null,"!")),e.gameLost&&c.a.createElement("div",{className:"loser-container"},c.a.createElement("span",null,"Y"),c.a.createElement("span",null,"O"),c.a.createElement("span",null,"U"),"\xa0",c.a.createElement("span",null,"L"),c.a.createElement("span",null,"O"),c.a.createElement("span",null,"S"),c.a.createElement("span",null,"E")))},h=function(){var e=Object(n.useContext)(i),a=e.gameKey,t=e.combination,l=e.setNewCombination,r=e.gameWon,m=e.gameLost,s=Object(n.useState)(null),b=Object(o.a)(s,2),d=(b[0],b[1]);return Object(n.useEffect)((function(){l()}),[]),c.a.createElement(n.Fragment,null,c.a.createElement(O,{gameWon:r,gameLost:m}),c.a.createElement("div",{className:"header-panel"},c.a.createElement(v,null),c.a.createElement(f,null)),c.a.createElement(g,{key:a,combination:t}),c.a.createElement(N,{combination:t}),c.a.createElement(y,{colors:u,setCurrentColor:d}))},j=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1];return c.a.createElement("div",{className:"rules"},t?c.a.createElement(n.Fragment,null,c.a.createElement("p",{className:"rules-command",onClick:function(){l(!1)}},"Hide rules"),c.a.createElement("p",{className:"rule-item"},"The goal is to decode a random combination of 4 colors."),c.a.createElement("p",{className:"rule-item"},"Click on a color in the selection board to select it, then click on a ball in the active raw to place the color."),c.a.createElement("p",{className:"rule-item"},"Validate when you are sure."),c.a.createElement("p",{className:"rule-item"},"The position of the colored dot in the result panel is NOT defined by its actual position in the combination."),c.a.createElement("p",{className:"rule-item"},"A red dot indicates a correctly positionned color anywhere in the combination."),c.a.createElement("p",{className:"rule-item"},"A white dot indicates a color present anywhere in the combination but not correctly placed.")):c.a.createElement("p",{className:"rules-command",onClick:function(){l(!0)}},"Show rules"))};t(10);var k=function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"App"},c.a.createElement(h,null),c.a.createElement(j,null)))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root"))},5:function(e,a,t){e.exports=t(11)}},[[5,1,2]]]);